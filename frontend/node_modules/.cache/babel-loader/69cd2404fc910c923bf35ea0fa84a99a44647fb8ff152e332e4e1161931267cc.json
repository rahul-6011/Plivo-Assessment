{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = 'http://localhost:5000/api';\nconst api = axios.create({\n  baseURL: API_BASE_URL\n});\n\n// Add auth token to requests\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\nexport const authAPI = {\n  login: (email, password) => api.post('/auth/login', {\n    email,\n    password\n  }),\n  register: (email, password, role, organizationId) => api.post('/auth/register', {\n    email,\n    password,\n    role,\n    organizationId\n  }),\n  me: () => api.get('/auth/me')\n};\nexport const serviceAPI = {\n  getPublicServices: orgSlug => api.get(`/services/public?org=${orgSlug}`),\n  getServices: () => api.get('/services'),\n  createService: name => api.post('/services', {\n    name\n  }),\n  updateService: (id, updates) => api.put(`/services/${id}`, updates),\n  updateServiceStatus: (id, status) => api.patch(`/services/${id}/status`, {\n    status\n  }),\n  deleteService: id => api.delete(`/services/${id}`),\n  getStatusHistory: id => api.get(`/services/${id}/history`)\n};\nexport const incidentAPI = {\n  getPublicIncidents: orgSlug => api.get(`/incidents/public?org=${orgSlug}`),\n  getIncidents: () => api.get('/incidents'),\n  createIncident: (title, description, serviceIds) => api.post('/incidents', {\n    title,\n    description,\n    serviceIds\n  }),\n  updateIncident: (id, updates) => api.put(`/incidents/${id}`, updates),\n  addIncidentUpdate: (id, message) => api.post(`/incidents/${id}/updates`, {\n    message\n  }),\n  resolveIncident: id => api.patch(`/incidents/${id}/resolve`),\n  getPublicMaintenances: orgSlug => api.get(`/incidents/maintenances/public?org=${orgSlug}`),\n  getMaintenances: () => api.get('/incidents/maintenances'),\n  createMaintenance: (title, description, serviceIds, scheduledStart, scheduledEnd) => api.post('/incidents/maintenances', {\n    title,\n    description,\n    serviceIds,\n    scheduledStart,\n    scheduledEnd\n  })\n};\nexport default api;","map":{"version":3,"names":["axios","API_BASE_URL","api","create","baseURL","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","authAPI","login","email","password","post","register","role","organizationId","me","get","serviceAPI","getPublicServices","orgSlug","getServices","createService","name","updateService","id","updates","put","updateServiceStatus","status","patch","deleteService","delete","getStatusHistory","incidentAPI","getPublicIncidents","getIncidents","createIncident","title","description","serviceIds","updateIncident","addIncidentUpdate","message","resolveIncident","getPublicMaintenances","getMaintenances","createMaintenance","scheduledStart","scheduledEnd"],"sources":["C:/Users/rahul teja/Desktop/Plivo-Assessment/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_BASE_URL = 'http://localhost:5000/api';\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n});\n\n// Add auth token to requests\napi.interceptors.request.use((config) => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\nexport const authAPI = {\n  login: (email, password) => api.post('/auth/login', { email, password }),\n  register: (email, password, role, organizationId) => \n    api.post('/auth/register', { email, password, role, organizationId }),\n  me: () => api.get('/auth/me'),\n};\n\nexport const serviceAPI = {\n  getPublicServices: (orgSlug) => api.get(`/services/public?org=${orgSlug}`),\n  getServices: () => api.get('/services'),\n  createService: (name) => api.post('/services', { name }),\n  updateService: (id, updates) => api.put(`/services/${id}`, updates),\n  updateServiceStatus: (id, status) => api.patch(`/services/${id}/status`, { status }),\n  deleteService: (id) => api.delete(`/services/${id}`),\n  getStatusHistory: (id) => api.get(`/services/${id}/history`),\n};\n\nexport const incidentAPI = {\n  getPublicIncidents: (orgSlug) => api.get(`/incidents/public?org=${orgSlug}`),\n  getIncidents: () => api.get('/incidents'),\n  createIncident: (title, description, serviceIds) => \n    api.post('/incidents', { title, description, serviceIds }),\n  updateIncident: (id, updates) => api.put(`/incidents/${id}`, updates),\n  addIncidentUpdate: (id, message) => api.post(`/incidents/${id}/updates`, { message }),\n  resolveIncident: (id) => api.patch(`/incidents/${id}/resolve`),\n  \n  getPublicMaintenances: (orgSlug) => api.get(`/incidents/maintenances/public?org=${orgSlug}`),\n  getMaintenances: () => api.get('/incidents/maintenances'),\n  createMaintenance: (title, description, serviceIds, scheduledStart, scheduledEnd) =>\n    api.post('/incidents/maintenances', { title, description, serviceIds, scheduledStart, scheduledEnd }),\n};\n\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}